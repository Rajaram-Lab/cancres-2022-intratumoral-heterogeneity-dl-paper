
# Data Files: Relevant metadata associated with images and analysis 
This folder contains various (meta)data files needed for our analysis in addition to the raw image data deposited on Figshare. As described below, the files are broadly grouped into sub-folders associated with specific cohorts or analyses.

## Files at Root of Data_Files
The files contained directly within this folder  (i.e. not in any subfolders) are:

1. SlideDataDistribution.csv
   - Contains the Gene (BAP1, PBRM1, SETD2)  WT/Loss distribution across the WSI and TCGA Cohorts. The information provide is visualized in Supplementary Table 1 and was generated by our code [here](../Figure_Generation/Data_Distribution.py)

2. FoldDistributionWSI.csv:
   - Contains the Gene (BAP1, PBRM1, SETD2) WT/Loss distribution across folds for the training testing(holdout) splits of the WSI cohort. This data was rounded and visualized in Supplementary Table 2 and was generated by our code [here](../Figure_Generation/Data_Distribution.py)


## Subfolders of Data_Files

### [WSI](WSI/)           
Contains all of the metadata used for the analysis of the WSI cohort. 

| Item                          | Description                                                  |
| ----------------------------- | ------------------------------------------------------------ | 
| 1. [allSamples_UpdatedCV_BL.csv](WSI/allSamples_UpdatedCV_BL.csv) | Contains the *ground truth* genetic status for BAP1, PBRM1 and SETD2 across the different samples in this cohort including whether the sample exhibits localized loss (referred to as focal in the file and code, see paper). Note that although this information is provided for all three genes, we only performed analysis on the BAP1 localized samples. |
| 2. [allGene_Updated_3FoldIndex.pkl](WSI/allGene_Updated_3FoldIndex.pkl) | Contains the assignment of samples into the various training/holdout folds. These assignments are stored as a dictionary with each fold being a key and the values being a list of indices, corresponding to samples as they appear in the allSamples file described above, of files in that fold |
| 3. [LocalizedLoss](WSI/LocalizedLoss/) | This subfolder contains the pathologist defined annotations that define the ground truth for the BAP1 localized loss cases. Each XML file contains the outline of the BAP1 loss areas in the SVS file with the same name|

### [TCGA](TCGA/)        
Contains all metadata files used for the analysis on the TCGA cohort. As the TCGA KIRC data is already publicly available outside of our Figshare deposit, these files largely represent repackaging of existing information.

| Item                          | Description                                                  |
| ----------------------------- | ------------------------------------------------------------ | 
| 1. [cBioPortal_TCGA_KIRC_PanCancer_Atlas_NoCNA.csv](TCGA/cBioPortal_TCGA_KIRC_PanCancer_Atlas_NoCNA.csv) | PanCancer Atlas raw genetic metadata downloaded from cBioPortal in tabular format. The download does not have the CNA information.  |
| 2. [gdc_manifest.2021-02-23.txt](TCGA/gdc_manifest.2021-02-23.txt) | GDC manifest used to download the TCGA KIRC slide dataset that was used in this study.|
| 3. [tcga_genetics_PanCancerMissenseFiltered.csv](TCGA/tcga_genetics_PanCancerMissenseFiltered.csv) | Processed genetic labels (generated by parsing cBioPortal_TCGA_KIRC_PanCancer_Atlas_NoCNA.csv) for TCGA where missense mutations are consider as WT. This was used to generate the results displayed in Supplementary Figure 5 in the paper.  |
| 4. [tcga_genetics_PanCancerNoCNA.csv](TCGA/tcga_genetics_PanCancerNoCNA.csv) | Processed genetic labels (generated by parsing cBioPortal_TCGA_KIRC_PanCancer_Atlas_NoCNA.csv) for TCGA where missense mutations are consider as Loss. This is the standard ground truth that was used for all TCGA analysis and evaluation on the main paper, unless specified otherwise. |
| 5. [tcga_grade.csv](TCGA/tcga_grade.csv) | Grade metadata for the samples|


### [TMA](TMA/)            
Contains metadata required to analyze the three TMA cohorts (TMA1, TMA2, and PDX1). 

| Item                          | Description                                                  |
| ----------------------------- | ------------------------------------------------------------ | 
| 1. [Cohort_Files.yaml](TMA/Cohort_Files.yaml) | YAML file mapping the TMA svs files to their corresponding cohort |
| 2. [TMA1_Layout.csv](TMA/TMA1_Layout.csv)  | TMA1 Layout file contains the genetic information along with other metadata for each of the individual punch of the TMA1 slides. The file contains columns that map each tissue core to a slide and a position on that slide. Each core also has the BAP1 genetic status information and nuclear grade assignments along with a blacklisted column that indicates if the core failed our quality control tests. Cores that failed QC were not used in this study. |
| 3. [TMA2_Layout.csv](TMA/TMA2_Layout.csv) | TMA2 Layout file contains the genetic information along with other metadata for each of the individual punch of the TMA2 slides. This file is organized the same as the TMA1 Layout file described above. |
| 4. [PDX1_Layout.csv](TMA/PDX1_Layout.csv) | PDX1 Layout file contains the genetic information along with other metadata for each of the individual punch of the PDX1 slides. Unlike the other two layout files, PDX1 does not contain nuclear grade information. All other aspects of the file are the same as the two above |
| 5. [Survival](TMA/Survival/) | This subfolder contains the [Anonymized_Survival_v2.xls](TMA/Survival/Anonymized_Survival_v2.xls) file, which has all the data used to in the survival analysis visualized in Figure 5 of the paper. |


### [Normalization](Normalization/)
Contains the data used to perform normalization on the TMA cohorts (TMA1, TMA2, PDX1).
| Item                          | Description                                                  |
| ----------------------------- | ------------------------------------------------------------ | 
| 1.  [targetRGBData.npy](Normalization/targetRGBData.npy) | Contains the pixel color values that will be used as the "target" color distribution for the normalization preprocessing step of  TMA classification. It was generated by a random sampling of the WSI cohort and is stored in numpy format. |